<div data-bb-type="screen" data-bb-effect="fade" style="height: 100%;" id="screen" > 
    <div data-bb-type="title" data-bb-caption="Execute" ></div>
    <div>
        <input type="text" id="command" placeholder="command" data-bb-clear="none" />
        <div data-bb-type="button" onclick="" id="run" >Run</div>
	</div><br><hr>
    <div id="code_field" style="margin-top: 150px 0 0;"></div>
        <div data-bb-type="action-bar" data-bb-back-caption="Back">

            <div id="save" data-bb-type="action" data-bb-style="button" data-bb-overflow="false" data-bb-img="icon/047. Set bkgnd img.png">Save</div>
            <div id="saveas" data-bb-type="action" data-bb-style="button" data-bb-overflow="false" data-bb-img="icon/047. Set bkgnd img.png">Save as...</div>
        <div id="ttt"></div>
    </div>
    <script type="text/javascript">
    window.seen = true;
    
    bb.init({onscreenready : function(element, id, params) {
                    if (id == 'execute') window.code = params.source;
                     },
            ondomready : function (){
                document.querySelector('#code_field').innerHTML += ">> " + window.code + '<br><hr>' + eval2(window.code) + "<hr>";
                document.querySelector('#command').addEventListener('keyup', function (e){
                    if(e.keyCode == 13) document.querySelector('#run').click();
                });
                
                $('#run').click(function (){
                    //comment
                    document.querySelector('#code_field').innerHTML += '>> ' + $('#command').val() + '<br><hr>' + eval2(window.code + $('#command').val()) + '<hr>'; $('#command').val('');
                });
                $('#save').click(function (){
                    save(true, window.code);
                });
                $('#saveas').click(function (){
                    save(false, window.code);
                });
            }});

    


    //Extra Functions

    window.write = function(a){
        alert(a);
    }
    </script> 	
</div>